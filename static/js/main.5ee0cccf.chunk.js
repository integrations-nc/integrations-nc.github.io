(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(n,e,t){n.exports=t(20)},17:function(n,e,t){},20:function(n,e,t){"use strict";t.r(e);var o=t(0),a=t.n(o),i=t(10),c=t.n(i),r=(t(17),t(11)),s=t(7),l=t(2),d=t(3),u=t(6),m=t(4),f=t(5),p=t(1),g=(t(9),function(n){function e(){return Object(l.a)(this,e),Object(u.a)(this,Object(m.a)(e).call(this))}return Object(f.a)(e,n),Object(d.a)(e,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var n=this;return a.a.createElement("div",{style:{padding:"8px 16px"}},a.a.createElement("h4",null,"Comment Section"),a.a.createElement("div",{style:{width:"100%"}},this.props.comments.map(function(e){return a.a.createElement("div",{key:e.id,onClick:function(){return n.props.onCommentClick(e)},style:n.props.selected===e.id?{background:"bisque",margin:"8px 0 0 0",cursor:"pointer"}:{background:"white",margin:"8px 0 0 0",cursor:"pointer"}},a.a.createElement("div",null,a.a.createElement("h5",null,e.owner," ",a.a.createElement("small",{style:{color:"grey"}},"  at ",e.date)),a.a.createElement("p",null,e.msg)))})))}}]),e}(o.Component)),h=function(n){function e(){var n;return Object(l.a)(this,e),(n=Object(u.a)(this,Object(m.a)(e).call(this))).wvDocumentLoadedHandler=function(){n.annotManager.on("annotationChanged",function(e,t,o){o.imported||(console.log("annotationChanged",e,t,o),n.annotManager.exportAnnotCommand().then(function(o){if("add"===t){var a=e[0],i=n.id++,c={id:i,owner:"John Doe",date:(new Date).toLocaleString(),msg:"I just commented against this annotation - "+i};n.setState(function(n){return{comments:[].concat(Object(s.a)(n.comments),[c]),annotations:[].concat(Object(s.a)(n.annotations),[{id:a.Id,commentId:c.id,xfdf:o}])}})}}))}),n.annotManager.on("annotationSelected",function(e,t){if(console.log("annotationSelected",e,t),"selected"===t){var o=e[0],a=n.state.annotations.find(function(n){return n.id===o.Id});n.setState({selected:a.commentId})}})},n.viewer=a.a.createRef(),n.docViewer=null,n.annotManager=null,n.instance=null,n.onCommentClick=n.onCommentClick.bind(Object(p.a)(Object(p.a)(n))),n.state={comments:[],annotations:[],selected:null},n.id=1,n}return Object(f.a)(e,n),Object(d.a)(e,[{key:"componentDidMount",value:function(){var n=this;window.WebViewer({path:"/lib",initialDoc:"/files/webviewer-demo-annotated.pdf",disabledElements:["notesPanel","notesPanelButton","miscToolGroupButton","freeTextToolButton","eraserToolButton","signatureToolButton","stickyToolButton","searchButton","printButton"]},this.viewer.current).then(function(e){n.instance=e,n.docViewer=e.docViewer,n.annotManager=e.annotManager,n.annotManager.setCurrentUser("John Doe"),console.log(e),n.viewer.current.addEventListener("pageChanged",function(n){var e=Object(r.a)(n.detail,1)[0];console.log("Current page is ".concat(e))}),n.docViewer.on("annotationsLoaded",function(){console.log("annotations loaded")}),n.docViewer.on("documentLoaded",n.wvDocumentLoadedHandler)})}},{key:"onCommentClick",value:function(n){console.log(n);var e=this.state.annotations.find(function(e){return e.commentId===n.id}),t=this.annotManager.getAnnotationById(e.id);this.annotManager.jumpToAnnotation(t),this.annotManager.selectAnnotation(t)}},{key:"render",value:function(){return a.a.createElement("div",{className:"App"},a.a.createElement("div",{className:"webviewer",ref:this.viewer}),a.a.createElement(g,{className:"comments",comments:this.state.comments,onCommentClick:this.onCommentClick,selected:this.state.selected}))}}]),e}(o.Component);c.a.render(a.a.createElement(h,null),document.getElementById("root"))},9:function(n,e,t){}},[[12,2,1]]]);
//# sourceMappingURL=main.5ee0cccf.chunk.js.map